{{- $url := urls.Parse .Destination -}}
{{- $remoteSchemes := slice "http" "https" "mailto" -}}
{{- $isRemote := in $remoteSchemes $url.Scheme -}}
{{- if or ($isRemote) (eq .Page.Section "registry") -}}
  <a href="{{ .Destination }}" target="_blank" rel="noopener">{{ .Text | safeHTML }}</a>
{{- else -}}
  <a href="{{ relref .Page .Destination }}">{{ .Text | safeHTML }}</a>
{{- end -}}